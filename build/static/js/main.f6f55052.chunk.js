(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){e.exports=n.p+"static/media/affirmLogo.7a9fd30e.svg"},24:function(e,t,n){e.exports=n(37)},29:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),i=n.n(o),s=(n(29),n(16),n(1)),c=n(5),l=n(6),u=n(3),m=n(8),h=n(7),f=n(19),d=n.n(f),g=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={error:null,isLoaded:!0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"The Daily Burger"),r.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}))}}]),n}(a.Component),b=Object(s.b)((function(e){return{}}))(g),p=n(9),v=n(4),j="FETCH_AFFIRMATION",O="SEND_AFFIRMATION";function E(){return function(e){return fetch("http://localhost:8000/affirmations",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){return e({type:j,affirmation:t.affirmation}),t})).catch((function(e){return console.log(e)}))}}var y=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={message:{to:"",body:""},prevNum:"",submitting:!1,error:!1},a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.onHandleChange=a.onHandleChange.bind(Object(u.a)(a)),a.getFormattedPhoneNum=a.getFormattedPhoneNum.bind(Object(u.a)(a)),a.regenerate=a.regenerate.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"onHandleChange",value:function(e){var t=e.target.getAttribute("name");switch(t){case"body":this.setState({message:Object(v.a)(Object(v.a)({},this.state.message),{},Object(p.a)({},t,e.target.value))});break;case"to":var n=this.state.prevNum;this.setState({prevNum:e.target.value});var a=e.target.value.charAt(e.target.value.length-1),r=e.target.value.replace(/\D/g,"");isNaN(a)&&isNaN(n)&&(r=r.substring(0,r.length-1)),this.setState({message:Object(v.a)(Object(v.a)({},this.state.message),{},Object(p.a)({},t,r))})}console.log(this.state.message.to)}},{key:"onSubmit",value:function(e){var t;(0,this.props.dispatch)((t=this.state.message,function(e){return fetch("http://localhost:8000/affirmations",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))}))}},{key:"componentDidMount",value:function(){this.regenerate()}},{key:"regenerate",value:function(){(0,this.props.dispatch)(E()).then(this.setState({message:Object(v.a)(Object(v.a)({},this.state.message),{},{body:this.props.affirmation})}))}},{key:"getFormattedPhoneNum",value:function(e){var t="";return t=""!==this.state.message.to?"(":"",e.replace(/^\D*(\d{0,3})\D*(\d{0,3})\D*(\d{0,4})/,(function(e,n,a,r){n.length&&(t+=n,3===n.length&&(t+=")-",a.length&&(t+=""+a,3===a.length&&(t+="-",r.length&&(t+=r)))))})),t}},{key:"render",value:function(){return r.a.createElement("div",{className:this.state.error?"error sms-form":"sms-form"},"Sometimes we find ourselves at a loss for words.",r.a.createElement("h4",null,'"',this.props.affirmation,'"'),r.a.createElement("div",null,r.a.createElement("div",{className:"affirm-buttons"},r.a.createElement("div",null,r.a.createElement("button",{className:"regenerate",type:"regenerate",onClick:this.regenerate},"Regenerate"))),r.a.createElement("div",null,r.a.createElement("input",{type:"tel",name:"to",id:"to",placeholder:"(123)-456-7890",value:this.getFormattedPhoneNum(this.state.message.to),onChange:this.onHandleChange})),r.a.createElement("div",{className:"affirm-buttons"},r.a.createElement("button",{className:"submit",type:"submit",disabled:this.state.submitting,onClick:this.onSubmit},"Send"))))}}]),n}(a.Component),N=Object(s.b)((function(e){return{affirmation:e.app.affirmation}}))(y),k=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={enter:!0},a.handleTimer=a.handleTimer.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"handleTimer",value:function(){this.setState({enter:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:{height:window.innerHeight/16}}),r.a.createElement(b,null),r.a.createElement(N,null))}}]),n}(a.Component),w=Object(s.b)((function(e){return{}}))(k),S=n(2),C=n(20),T={affirmation:""},A=n(14),F=n(21),D=n.n(F),H=n(22),I=n.n(H),M=n(23),P={key:"root",storage:I.a,stateReconciler:D.a},x=Object(M.createLogger)({diff:!0}),R=[C.a],B=Object(S.d)(Object(A.a)(P,Object(S.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case j:return n.affirmation=t.affirmation,n;case O:default:return e}}})),S.a.apply(void 0,[x].concat(R))),J=(Object(A.b)(B),B);var L=function(){return r.a.createElement("div",null,r.a.createElement(s.a,{store:J},r.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:J},r.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.f6f55052.chunk.js.map